
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Will you marry me? üíç</title>
  <meta name="description" content="A simple, elegant proposal page with Yes/No choices and confetti." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1:#0e0f14; --bg2:#151525; --glass:#1d1d2baa; --border:#ffffff1a;
      --accent:#e63973; --accent2:#ffd166; --text:#f7f7fb; --muted:#c7c7d1;
    }
    *{box-sizing:border-box}
    body{
      margin:0; min-height:100svh; display:grid; place-items:center; color:var(--text);
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background:
        radial-gradient(60rem 40rem at 10% -10%, #3a1c2f, transparent 60%),
        radial-gradient(70rem 50rem at 120% 10%, #1a2550, transparent 60%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      overflow:hidden;
    }
    .sparkle{position:fixed; inset:0; pointer-events:none; background-image:
      radial-gradient(1.5px 1.5px at 20% 30%, #fff 50%, transparent 51%),
      radial-gradient(1.5px 1.5px at 70% 12%, #fff8 50%, transparent 51%),
      radial-gradient(1.2px 1.2px at 50% 60%, #fff7 50%, transparent 51%);
      opacity:.5; animation: twinkle 7s ease-in-out infinite alternate;
    }
    @keyframes twinkle{from{filter:brightness(1)} to{filter:brightness(1.8)}}

    .wrap{width:min(880px, 92vw); padding:28px}
    .card{background:var(--glass); border:1px solid var(--border); border-radius:24px; padding:clamp(22px,4vw,42px); backdrop-filter: blur(10px) saturate(120%); box-shadow:0 20px 60px #0008}

    h1{font-family:'Playfair Display',serif; font-size:clamp(40px,8.5vw,82px); line-height:1.03; margin:0 0 8px; text-align:center; text-shadow:0 10px 30px #000a}
    .sub{color:var(--muted); text-align:center; margin:0 0 20px}

    .ring{width:150px; height:150px; margin: 8px auto 18px; position:relative;}
    .ring .band{width:120px; height:120px; border:10px solid var(--accent); border-radius:50%; margin:15px auto 0; filter: drop-shadow(0 0 16px #e6397340)}
    .ring .gem{width:64px; height:64px; background:linear-gradient(135deg, #fff, #e9f6ff); border:2px solid #cdd7ff; position:absolute; left:50%; transform: translateX(-50%) rotate(45deg); top:-8px; box-shadow:0 12px 24px #0006}
    .ring .gem::after{content:""; position:absolute; inset:10px; border:1px solid #d7e5ff55}

    .message{font-size:clamp(18px,2.6vw,22px); line-height:1.7; text-align:center; margin:0 auto 24px; max-width:60ch}

    .choices{display:flex; justify-content:center; gap:14px; flex-wrap:wrap}
    .btn{appearance:none; border:none; padding:14px 22px; border-radius:14px; cursor:pointer; font-weight:700; letter-spacing:.2px; color:#fff; transition: transform .14s ease, filter .14s ease}
    .btn:hover{transform:translateY(-2px); filter:brightness(1.05)}
    .yes{background:linear-gradient(180deg, var(--accent), #c72d61)}
    .no{background:linear-gradient(180deg, #3c3c52, #2b2b3a)}

    .cta-note{margin-top:10px; text-align:center; color:#a7a7b7; font-size:13px}
    footer{margin-top:20px; text-align:center; color:#a3a3b3; font-size:13px}

    /* Modal */
    .modal{position:fixed; inset:0; display:none; place-items:center; background:#0008;}
    .modal.active{display:grid}
    .modal .box{background:#1d1d2b; border:1px solid var(--border); border-radius:18px; padding:22px; width:min(520px,92vw); box-shadow:0 20px 50px #000a}
    .modal h2{margin:0 0 8px; font-family:'Playfair Display',serif}
    .modal p{margin:0 0 12px; color:#d6d6df}
    .row{display:flex; gap:10px; justify-content:flex-end}

    /* Confetti canvas */
    canvas#confetti{position:fixed; inset:0; pointer-events:none}
  </style>
</head>
<body>
  <div class="sparkle"></div>
  <canvas id="confetti"></canvas>

  <div class="wrap">
    <div class="card">
      <h1 id="headline">Will you marry me?</h1>
      <p class="sub" id="subtitle">I have something from the heart, just for you. üíå</p>

      <div class="ring" aria-hidden="true">
        <div class="band"></div>
        <div class="gem"></div>
      </div>

      <p class="message" id="message">I can‚Äôt imagine my days without your smile, your warmth, and your laugh. Will you say yes to forever with me?</p>

      <div class="choices">
        <button class="btn yes" id="yesBtn">Yes üíñ</button>
        <button class="btn no" id="noBtn">No üòÖ</button>
      </div>
      <div class="cta-note">(You can personalize with <code>?to=Name&from=YourName&msg=Custom%20message</code>)</div>
      <footer id="footer"></footer>
    </div>
  </div>

  <!-- No Modal -->
  <div class="modal" id="noModal" role="dialog" aria-modal="true" aria-labelledby="noTitle">
    <div class="box">
      <h2 id="noTitle">Are you absolutely sure?</h2>
      <p>Totally okay if the answer is no ‚Äî your honesty means the world. Want to think about it a bit more?</p>
      <div class="row">
        <button class="btn no" id="finalNo">No, I‚Äôm sure</button>
        <button class="btn yes" id="thinkMore">Okay, I‚Äôll think more ü•∫</button>
      </div>
    </div>
  </div>

  <!-- Final Message Modal -->
  <div class="modal" id="answerModal" role="dialog" aria-modal="true" aria-labelledby="answerTitle">
    <div class="box" id="answerBox">
      <h2 id="answerTitle"></h2>
      <p id="answerText"></p>
      <div class="row">
        <button class="btn yes" id="closeAnswer">Close</button>
      </div>
    </div>
  </div>

  <script>
    // Personalization via URL
    const params = new URLSearchParams(location.search);
    const to = params.get('to');
    const from = params.get('from');
    const msg = params.get('msg');
    if(to){
      document.getElementById('headline').textContent = `${to}, will you marry me?`;
      document.getElementById('subtitle').textContent = `This is just for you, ${to}.`;
    }
    if(from){
      document.getElementById('footer').textContent = `‚Äî From ${from}`;
    }
    if(msg){ document.getElementById('message').textContent = msg; }

    // Confetti setup
    const cvs = document.getElementById('confetti');
    const ctx = cvs.getContext('2d');
    let W,H,pieces=[]; const COLORS=['#e63973','#ffd166','#06d6a0','#4cc9f0','#f72585'];
    const resize=()=>{W=cvs.width=innerWidth; H=cvs.height=innerHeight}; addEventListener('resize',resize); resize();
    function addConfetti(n=300){
      for(let i=0;i<n;i++){
        pieces.push({x:Math.random()*W, y:-20-Math.random()*H, s:6+Math.random()*10, c:COLORS[Math|0?Math.floor(Math.random()*COLORS.length):0], r:Math.random()*Math.PI, v:2+Math.random()*4, w:(Math.random()*2-1)*0.08});
      }
    }
    function tick(){
      ctx.clearRect(0,0,W,H);
      for(const p of pieces){ p.y+=p.v; p.r+=p.w; p.x+=Math.sin(p.r)*0.6; ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.r); ctx.fillStyle=p.c; ctx.fillRect(-p.s/2,-p.s/2,p.s,p.s); ctx.restore(); }
      pieces=pieces.filter(p=>p.y<H+40);
      requestAnimationFrame(tick);
    }
    tick();

    // UI elements
    const yesBtn=document.getElementById('yesBtn');
    const noBtn=document.getElementById('noBtn');
    const noModal=document.getElementById('noModal');
    const answerModal=document.getElementById('answerModal');
    const answerTitle=document.getElementById('answerTitle');
    const answerText=document.getElementById('answerText');

    yesBtn.addEventListener('click',()=>{
      addConfetti(360);
      answerTitle.textContent = 'You said YES! üíç';
      answerText.textContent = 'You just made my life. I can‚Äôt wait to spend forever with you.';
      answerModal.classList.add('active');
    });

    noBtn.addEventListener('click',()=>{ noModal.classList.add('active'); });
    document.getElementById('finalNo').addEventListener('click',()=>{
      noModal.classList.remove('active');
      answerTitle.textContent = 'Thank you for being honest ‚ù§Ô∏è';
      answerText.textContent = 'I appreciate you and your feelings. No matter what, you matter to me. (And if you ever change your mind, I‚Äôll be right here.)';
      answerModal.classList.add('active');
    });
    document.getElementById('thinkMore').addEventListener('click',()=>{ noModal.classList.remove('active'); });
    document.getElementById('closeAnswer').addEventListener('click',()=>{ answerModal.classList.remove('active'); });

    // ESC to close modals
    addEventListener('keydown', (e)=>{
      if(e.key==='Escape'){ noModal.classList.remove('active'); answerModal.classList.remove('active'); }
    })
  </script>
</body>
</html>
